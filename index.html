from zipfile import ZipFile

# Ù†Ø³Ø®Ø© ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ù…Ø¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙƒÙ„Ù‡Ø§
full_html_code = """<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹ÙŠØ§Ø¯Ø© ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù†Ø·Ù‚ - ÙˆÙØ§Ù‚ ÙˆÙ‡Ø¨ÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        * { font-family: 'Cairo', sans-serif; }
        .notification-slide { animation: slideDown 0.5s ease-out; }
        @keyframes slideDown { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">

    <!-- Ø¥Ø´Ø¹Ø§Ø± -->
    <div id="notificationBar" class="fixed top-0 left-0 right-0 bg-green-600 text-white p-3 text-center z-50 notification-slide hidden">
        <span id="notificationText"></span>
        <button onclick="hideNotification()" class="mr-4 bg-green-700 px-2 py-1 rounded text-sm hover:bg-green-800">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <div class="bg-blue-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-white text-3xl">ğŸ—£ï¸</span>
                </div>
                <h1 class="text-2xl font-bold text-gray-800 mb-2">Ø¹ÙŠØ§Ø¯Ø© ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù†Ø·Ù‚</h1>
                <p class="text-gray-600">Ø£. ÙˆÙØ§Ù‚ ÙˆÙ‡Ø¨ÙŠ - Ø£Ø®ØµØ§Ø¦ÙŠØ© ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù†Ø·Ù‚</p>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„</label>
                    <input type="password" id="loginCode" class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-center text-lg" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„" maxlength="4">
                </div>
                <button onclick="login()" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition duration-300">Ø¯Ø®ÙˆÙ„</button>
                <div id="loginError" class="text-red-500 text-center hidden">ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­</div>
            </div>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div id="dashboard" class="hidden min-h-screen">
        <header class="bg-white shadow-lg p-4">
            <div class="flex justify-between items-center max-w-7xl mx-auto">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div class="bg-blue-600 w-12 h-12 rounded-full flex items-center justify-center">
                        <span class="text-white text-xl">ğŸ—£ï¸</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-800">Ø¹ÙŠØ§Ø¯Ø© ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù†Ø·Ù‚</h1>
                        <p class="text-gray-600">Ø£. ÙˆÙØ§Ù‚ ÙˆÙ‡Ø¨ÙŠ</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <button onclick="saveAllData()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                    <button onclick="logout()" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">Ø®Ø±ÙˆØ¬</button>
                </div>
            </div>
        </header>

        <div class="flex max-w-7xl mx-auto p-4 gap-6">
            <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
            <div class="w-64 bg-white rounded-xl shadow-lg p-4">
                <nav class="space-y-2">
                    <button onclick="showSection('appointments', this)" class="nav-btn w-full text-right p-3 rounded-lg hover:bg-blue-50 transition flex items-center">ğŸ“… Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ ÙˆØ§Ù„Ø­ØµØµ</button>
                    <button onclick="showSection('patients', this)" class="nav-btn w-full text-right p-3 rounded-lg hover:bg-blue-50 transition flex items-center">ğŸ‘¶ Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„</button>
                    <button onclick="showSection('reports', this)" class="nav-btn w-full text-right p-3 rounded-lg hover:bg-blue-50 transition flex items-center">ğŸ“ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</button>
                    <button onclick="showSection('schedule', this)" class="nav-btn w-full text-right p-3 rounded-lg hover:bg-blue-50 transition flex items-center">ğŸ• Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙŠÙˆÙ…ÙŠ</button>
                    <button onclick="showSection('storage', this)" class="nav-btn w-full text-right p-3 rounded-lg hover:bg-blue-50 transition flex items-center">ğŸ’¾ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†</button>
                </nav>
            </div>

            <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
            <div class="flex-1">
                <!-- Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ -->
                <div id="appointments" class="section hidden bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ“… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯</h2>
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <input id="appointmentName" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·ÙÙ„" class="p-3 border rounded-lg">
                        <input id="appointmentDate" type="date" class="p-3 border rounded-lg">
                        <input id="appointmentTime" type="time" class="p-3 border rounded-lg">
                        <button onclick="addAppointment()" class="bg-blue-600 text-white rounded-lg px-4 py-2">â• Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¹Ø¯</button>
                    </div>
                    <div id="appointmentsList" class="space-y-3"></div>
                </div>

                <!-- Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„ -->
                <div id="patients" class="section hidden bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ‘¶ Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„</h2>
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <input id="patientName" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·ÙÙ„" class="p-3 border rounded-lg">
                        <input id="patientAge" type="number" placeholder="Ø§Ù„Ø¹Ù…Ø±" class="p-3 border rounded-lg">
                        <select id="patientProgress" class="p-3 border rounded-lg">
                            <option value="excellent">Ù…Ù…ØªØ§Ø²</option>
                            <option value="good">Ø¬ÙŠØ¯</option>
                            <option value="average">Ù…ØªÙˆØ³Ø·</option>
                            <option value="needs">ÙŠØ­ØªØ§Ø¬ Ø¯Ø¹Ù…</option>
                        </select>
                        <button onclick="addPatient()" class="bg-blue-600 text-white rounded-lg px-4 py-2">â• Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù</button>
                    </div>
                    <div id="patientsList" class="space-y-3"></div>
                </div>

                <!-- Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
                <div id="reports" class="section hidden bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ“ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <select id="reportChild" class="p-3 border rounded-lg"></select>
                        <textarea id="reportText" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª..." class="p-3 border rounded-lg"></textarea>
                        <button onclick="addReport()" class="bg-blue-600 text-white rounded-lg px-4 py-2">â• Ø¥Ø¶Ø§ÙØ© ØªÙ‚Ø±ÙŠØ±</button>
                    </div>
                    <div id="reportsList" class="space-y-3"></div>
                </div>

                <!-- Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙŠÙˆÙ…ÙŠ -->
                <div id="schedule" class="section hidden bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ• Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>
                    <div id="todaySchedule" class="space-y-3"></div>
                </div>

                <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† -->
                <div id="storage" class="section hidden bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ’¾ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†</h2>
                    <div id="storageStats" class="mb-6 p-4 bg-gray-50 rounded-lg border"></div>
                    <div class="space-x-2 space-x-reverse">
                        <button onclick="exportData()" class="bg-green-600 text-white px-4 py-2 rounded-lg">â¬‡ï¸ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                        <button onclick="importData()" class="bg-blue-600 text-white px-4 py-2 rounded-lg">â¬†ï¸ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                        <button onclick="clearData()" class="bg-red-600 text-white px-4 py-2 rounded-lg">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let appointments = JSON.parse(localStorage.getItem('appointments')||'[]');
        let patients = JSON.parse(localStorage.getItem('patients')||'[]');
        let reports = JSON.parse(localStorage.getItem('reports')||'[]');

        function login(){ 
            if(document.getElementById('loginCode').value==="1234"){
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');
                updateAll();
            } else {
                document.getElementById('loginError').classList.remove('hidden');
            }
        }
        function logout(){ location.reload(); }
        function showSection(id,btn){
            document.querySelectorAll('.section').forEach(s=>s.classList.add('hidden'));
            document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('bg-blue-100','text-blue-700'));
            document.getElementById(id).classList.remove('hidden');
            btn.classList.add('bg-blue-100','text-blue-700');
        }
        function updateAppointmentsList(){
            let c=document.getElementById('appointmentsList');
            c.innerHTML=appointments.map((a,i)=>`<div class="p-3 border rounded-lg flex justify-between"><span>${a.name} - ${a.date} ${a.time}</span><button onclick="deleteAppointment(${i})" class="text-red-600">ğŸ—‘ï¸</button></div>`).join("");
        }
        function addAppointment(){
            appointments.push({name:appointmentName.value,date:appointmentDate.value,time:appointmentTime.value});
            localStorage.setItem('appointments',JSON.stringify(appointments));
            updateAppointmentsList();
        }
        function deleteAppointment(i){ appointments.splice(i,1); localStorage.setItem('appointments',JSON.stringify(appointments)); updateAppointmentsList(); }
        function updatePatientsList(){
            let c=document.getElementById('patientsList');
            c.innerHTML=patients.map((p,i)=>`<div class="p-3 border rounded-lg flex justify-between"><span>${p.name}, ${p.age} Ø³Ù†Ø© (${p.progress})</span><button onclick="deletePatient(${i})" class="text-red-600">ğŸ—‘ï¸</button></div>`).join("");
            loadPatientOptions();
        }
        function addPatient(){ patients.push({name:patientName.value,age:patientAge.value,progress:patientProgress.value}); localStorage.setItem('patients',JSON.stringify(patients)); updatePatientsList(); }
        function deletePatient(i){ patients.splice(i,1); localStorage.setItem('patients',JSON.stringify(patients)); updatePatientsList(); }
        function updateReportsList(){
            let c=document.getElementById('reportsList');
            c.innerHTML=reports.map((r,i)=>`<div class="p-3 border rounded-lg flex justify-between"><span><b>${r.child}:</b> ${r.text}</span><button onclick="deleteReport(${i})" class="text-red-600">ğŸ—‘ï¸</button></div>`).join("");
        }
        function addReport(){ reports.push({child:reportChild.value,text:reportText.value}); localStorage.setItem('reports',JSON.stringify(reports)); updateReportsList(); }
        function deleteReport(i){ reports.splice(i,1); localStorage.setItem('reports',JSON.stringify(reports)); updateReportsList(); }
        function updateTodaySchedule(){
            let today=new Date().toISOString().split('T')[0];
            let c=document.getElementById('todaySchedule');
            c.innerHTML=appointments.filter(a=>a.date===today).map(a=>`<div class="p-3 border rounded-lg">${a.name} - ${a.time}</div>`).join("")||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…";
        }
        function updateStorageStats(){
            let total=JSON.stringify({appointments,patients,reports}).length;
            document.getElementById('storageStats').innerText="Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ: "+total+" Ø¨Ø§ÙŠØª";
        }
        function saveAllData(){ localStorage.setItem('appointments',JSON.stringify(appointments)); localStorage.setItem('patients',JSON.stringify(patients)); localStorage.setItem('reports',JSON.stringify(reports)); alert("ØªÙ… Ø§Ù„Ø­ÙØ¸"); }
        function exportData(){ const data={appointments,patients,reports}; const blob=new Blob([JSON.stringify(data)],{type:'application/json'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='clinic_data.json'; a.click(); URL.revokeObjectURL(url); }
        function importData(){ const input=document.createElement('input'); input.type='file'; input.accept='.json'; input.onchange=e=>{const file=e.target.files[0]; const reader=new FileReader(); reader.onload=ev=>{try{const data=JSON.parse(ev.target.result);appointments=data.appointments||[];patients=data.patients||[];reports=data.reports||[];localStorage.setItem('appointments',JSON.stringify(appointments));localStorage.setItem('patients',JSON.stringify(patients));localStorage.setItem('reports',JSON.stringify(reports));updateAll(); alert('ØªÙ… Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}catch{alert('Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­');}}; reader.readAsText(file);}; input.click(); }
        function clearData(){ localStorage.clear(); appointments=[]; patients=[]; reports=[]; updateAll(); alert("ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); }
        function loadPatientOptions(){ document.getElementById('reportChild').innerHTML=patients.map(p=>`<option>${p.name}</option>`).join(""); }
        function updateAll(){ updateAppointmentsList(); updatePatientsList(); updateReportsList(); updateTodaySchedule(); updateStorageStats(); loadPatientOptions(); }
    </script>
</body>
</html>"""

# Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯
with open("/mnt/data/index.html", "w", encoding="utf-8") as f:
    f.write(full_html_code)

# Ø¹Ù…Ù„ ZIP
zip_path_full = "/mnt/data/wifek_ortho_dashboard_full.zip"
with ZipFile(zip_path_full, 'w') as zipf:
    zipf.write("/mnt/data/index.html", "index.html")

zip_path_full
